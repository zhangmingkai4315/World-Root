<!DOCTYPE html>
<html>
<head>
    <title>全球域名服务探测</title>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <script src="/lib/d3.min.js"></script>
    <script src="/lib/topojson.min.js"></script>
    <script src="/lib/lodash.min.js"></script>
    <script src="/lib/queue.min.js" type="text/javascript"></script>
    <link rel="stylesheet" type="text/css" href="/stylesheets/main.css"/>
</head>
<body>
    <div id="container">
        <div id="header">
            <h2 id="header_title">全球根镜像展示</h2>
        </div>
        <div id="RootServerMap"></div>
    </div>
    <script src="/js/common.js" type="text/javascript"></script>
    <script src="/js/root.js" type="text/javascript"></script>
    <script type="text/javascript">
        queue()
            .defer(d3.json, '/data/world-topo.json')
            .defer(d3.json, '/data/root-name-servers.json')
            .await(function(err,world_map_data,root_data){
                if(!d3.helper.servers){
                    d3.helper.servers=root_data;
                }
                if(err) console.log(err);
                d3.helper.printRootServerWorldMap(world_map_data,'RootServerMap',root_data);
                window.addEventListener('resize', resize);
                function resize(){
                        d3.selectAll('svg').remove()
                        d3.helper.printRootServerWorldMap(world_map_data,'RootServerMap',root_data,window.innerWidth,window.innerHeight);
                        d3.helper.draw_ping_bar()
                }
        });
    </script>
    <script id="__bs_script__">//<![CDATA[
    document.write("<script async src='http://HOST:3000/browser-sync/browser-sync-client.js?v=2.17.2'><\/script>".replace("HOST", location.hostname));
//]]></script>
</body>
</html>
